<!-- /sections/section-look.liquid -->

{%- liquid
    assign look_dots = ''
    assign look_slider = ''
    assign enable_aspect_ratio = section.settings.enable_aspect_ratio
    assign image_aspect_ratio = 1 | divided_by: section.settings.image_aspect_ratio
    assign image = section.settings.image
    assign bg_color = section.settings.bg_color
    assign text_color = section.settings.color
    assign dot_color = section.settings.dot_color
    assign dot_background = section.settings.dot_background
    assign show_dots = section.settings.show_dots

    assign button_style = section.settings.button_style
    if button_style == 'btn--text' and section.settings.show_arrow
        assign button_style = button_style | append: ' btn--text-no-underline'
    endif

    unless enable_aspect_ratio
        if image
            assign image_aspect_ratio = image.aspect_ratio
        else
            assign image_aspect_ratio = 1
        endif
    endunless
-%}

{%- style -%}
  #IndexLook--{{ section.id }}{
    --PT: {{ section.settings.padding_top }}
    px;
    --PB: {{ section.settings.padding_bottom }}
    px;

    {%- unless bg_color == 'rgba(0,0,0,0)' or bg_color == blank -%}
      --bg: {{ bg_color }}
      ;
    {%- endunless -%}

    {%- unless text_color == 'rgba(0,0,0,0)' or text_color == blank -%}
      --text: {{ text_color }}
      ;
      --text-light: {{ text_color | color_mix: settings.bg_color, 70 }}
      ;
      --text-dark: {{ text_color | color_saturate: 10 | color_darken: 15 }}
      ;
    {%- endunless -%}
  }

  {%- if dot_background != 'rgba(0,0,0,0)' and dot_background != '' -%}
    #IndexLook--{{ section.id }}.look__dot {
      --bg: {{ dot_background }}
      ;
    }
  {%- endif -%}

  {%- if dot_color != 'rgba(0,0,0,0)' and dot_color != '' -%}
    #IndexLook--{{ section.id }}.look__dot__button {
      --primary: {{ dot_color }}
      ;
    }
  {%- endif -%}

  #IndexLook--{{ section.id }}.look__image-container {
    --aspect-ratio: {{ image.aspect_ratio }}
    ;
  }
{%- endstyle -%}
{%  assign show_filter = true %}
{%  assign show_group_filter =  true %}
{%  assign show_sort =  true %}
{%- capture collection_sidebar_class -%}
  {%- if filter_layout == 'slide-out' -%}
    collection__sidebar__slide-out
  {%- else -%}
    collection__sidebar__slider{% if show_group_filters %}
      expanded drawer--animated no-mobile-animation{% endif %}
  {%- endif -%}
{%- endcapture -%}

<section
  id="IndexLook--{{ section.id }}"
  class="index-look section-padding"
  data-section-id="{{ section.id }}"
  data-section-type="look">
  <div class="wrapper--full">
    {%- if section.blocks.size > 0 -%}
      {%- for block in section.blocks -%}
        {%- capture style -%}
          --dot-top: {{ block.settings.position_y }}%;
          --dot-left: {{ block.settings.position_x }}%;
        {%- endcapture -%}

        {%- capture look_dots -%}
          {{ look_dots }}

          <button
            type="button"
            class="look__dot__button"
            style="{{ style }}"
            aria-label="{{ 'general.accessibility.scroll_to_product' | t }}"
            data-slider-thumb="{{ forloop.index0 }}">
            <span class="look__dot">
              <span class="look__dot__icon"></span>
            </span>
          </button>
        {%- endcapture -%}

        {%- capture look_slider -%}
          {{ look_slider }}

          {%- assign product = all_products[block.settings.product] -%}

          <div
            class="look_slide_test look__slide look__slide--{{ block.id }}"
            data-slide="{{ block.id }}"
            data-slide-index="{{ forloop.index0 }}"
            {{ block.shopify_attributes }}>
            {%- if product != blank -%}
              {%- render 'product-grid-item', product: product, index: forloop.index -%}
            {%- else -%}
              {%- assign placeholder = 'product-' | append: forloop.index -%}
              {%- render 'onboarding-product-grid-item', title: 'Product Title', placeholder: placeholder, index: forloop.index, animation_delay: forloop.index0 -%}
            {%- endif -%}
          </div>
        {%- endcapture -%}
      {%- endfor -%}
    {%- else -%}
      {%- for i in (1..2) -%}
        {%- capture style -%}
          --dot-top: {{ forloop.index | times: 30 }}%;
          --dot-left: {{ forloop.index | times: 30 }}%;
        {%- endcapture -%}

        {%- capture look_dots -%}
          {{ look_dots }}

          <button
            type="button"
            class="look__dot__button"
            style="{{ style }}"
            aria-label="{{ 'general.accessibility.scroll_to_product' | t }}"
            data-slider-thumb="{{ forloop.index0 }}">
            <span class="look__dot">
              <span class="look__dot__icon"></span>
            </span>
          </button>
        {%- endcapture -%}

        {%- capture look_slider -%}
          {{ look_slider }}

          <div
            class="look__slide look__slide--{{ section.id }}-{{ i }}"
            data-slide="{{ section.id }}-{{ i }}"
            data-slide-index="{{ forloop.index0 }}">
            {%- liquid
                            assign product_index = forloop.index | plus: 2
                            assign placeholder = 'product-' | append: product_index
                            capture title
                                cycle 'Nomad X Sunglasses', 'Nomad X Hat'
                            endcapture
                            render 'onboarding-product-grid-item', title: title, placeholder: placeholder, index: forloop.index, animation_delay: forloop.index0
                        -%}
          </div>
        {%- endcapture -%}
      {%- endfor -%}
    {%- endif -%}

    <div class="look" data-slider-container>
      <div class="look__image look__image--fullheight">
        <div class="look__image-container">
          {%- render 'image' image: section.settings.image, sizes: '(min-width: 750px) 50vw, 100vw', aspect_ratio: image_aspect_ratio, modifier: 'look__image-bg', placeholder: 'collection-1' -%}

          {%- if show_dots and look_dots != blank -%}
            <div class="look__dots desktop">
              {{ look_dots }}
            </div>
          {%- endif -%}
        </div>

        <div class="look__actions mobile">
          <button
            type="button"
            class="btn {{ button_style }} {{ section.settings.button_size }} {{ section.settings.button_type }}"
            aria-label="{{ 'general.accessibility.scroll_to_product' | t }}"
            data-slider-thumb="0">
            {%- render 'icon-bag' -%}

            <span>{{ 'general.shop_the_look.button' | t }}</span>

            {%- if section.settings.show_arrow -%}
              {%- render 'icon-arrow-right' -%}
            {%- endif -%}
          </button>
        </div>
      </div>
      <div class="look__aside" data-popup-container>
        <div class="look__overlay" data-popup-close></div>

        <div
          class="look__content"
          data-popup-content
          data-scroll-lock-scrollable>
          {%- if section.settings.title != blank -%}
            <p class="look__title caps">{{ section.settings.title }}</p>
          {%- endif -%}

          <button
            type="button"
            data-popup-close
            class="look__close mobile"
            aria-label="{{ 'general.accessibility.close' | t }}">
            {%- render 'icon-cancel' -%}
          </button>

          <div
            style="display: block;"
            class="look__slider{% if section.settings.products_per_row == '2' and section.blocks.size != 1 %} look__slider--grid{% endif %}"
            data-slider-mobile="{{ section.id }}"
            data-arrow-position-middle
            data-scroll-lock-scrollable
            {% if request.design_mode %}data-block-scroll{% endif %}>
            {% comment %} {{ look_slider }} {% endcomment %}

              {%- paginate collection.products by product_limit -%}
                <section
                  class="collection collection-products collection-{{ collection.handle }} section-padding"
                  id="Collection--{{ section.id }}"
                  data-section-id="{{ section.id }}"
                  data-section-type="collection"
                  data-sort="{{ show_sort }}"
                  data-collection="{{ collection.url | default: '/collections/all' }}">

                  {%- assign align_classes = '' -%}
                  {%- if show_sort -%}
                    {%- assign align_classes = align_classes | append: ' collection__nav--sort ' -%}
                  {%- endif -%}

                  {%- if show_filter or show_group_filter -%}
                    {% assign align_classes = align_classes | append: ' collection__nav--filter ' %}
                  {%- endif -%}

                  {%- if show_sort or show_filter or show_group_filter -%}
                    <nav
                      id="collectionNav"
                      class="collection__nav {{ align_classes }}"
                      data-collection-nav>
                      {%- if show_filter or show_group_filter -%}
                        {%- liquid
                          assign filter_active_count = 0

                          if show_filter
                            for filter in collection.filters
                              assign filter_active_count = filter_active_count | plus: filter.active_values.size
                            endfor
                          endif

                          if show_group_filter and current_tags.size > 0
                            assign filter_active_count = current_tags.size
                          endif
                        -%}
                        <div class="popout--group">
                          <button
                            type="button"
                            class="popout__padding popout__toggle{% unless filter_layout == 'slide-out' %} popout__toggle--filters{% endunless %}"
                            aria-expanded="{% if show_group_filters %}true{% else %}false{% endif %}"
                            aria-controls="filter-groups"
                            data-aria-toggle
                            data-group-tags-enabled>

                            {%- if filter_layout == 'slide-out' -%}
                              {{ 'collections.general.filters' | t }}
                            {%- else -%}
                              <span class="popout__toggleable-text">
                                <span class="popout__expanded-show">
                                  {{- 'collections.general.show_filters' | t -}}
                                  <span class="filter-count{% if filter_active_count < 1 %} hidden{% endif %}" data-active-filters>
                                    {{- filter_active_count -}}
                                  </span>
                                </span>

                                <span class="popout__expanded-hide">
                                  {{- 'collections.general.hide_filters' | t -}}
                                  <span class="filter-count{% if filter_active_count < 1 %} hidden{% endif %}" data-active-filters>
                                    {{- filter_active_count -}}
                                  </span>
                                </span>
                              </span>
                            {%- endif -%}
                            <div class="popout——left">
                              <img src="https://img.ohdat.io/foundo-website/assets/shopify/shai.png" alt="">
                            </div>
                          </button>
                        </div>
                      {%- endif -%}

                      <div style="display: flex;align-items: center;">
                        {% comment %} <div onclick="changeImaged()" class="popout——left">
                          <img src="https://img.ohdat.io/foundo-website/assets/shopify/sifang.png" alt="">
                        </div>
                        <div onclick="changeImage()" class="popout——left">
                          <img src="https://img.ohdat.io/foundo-website/assets/shopify/tiao.png" alt="">
                        </div> {% endcomment %}
                        {%- if show_sort -%}
                          {% render 'collection-sorting' %}
                        {%- endif -%}
                      </div>
                    </nav>
                  {%- endif -%}

                  <div class="collection__products{% if show_filter or show_group_filter %} collection__products--group-tags{% endif %}">
                    {%- if show_filter or show_group_filter -%}
                      <div
                        class="{{ collection_sidebar_class }}"
                        id="filter-groups"
                        data-collection-sidebar>
                        <div class="collection__sidebar__head{% unless filter_layout == 'slide-out' %} collection__sidebar__head--mobile{% endunless %}">
                          <h3>
                            {{- 'collections.general.filters' | t -}}

                            <span class="filter-count{% if filter_active_count < 1 %} hidden{% endif %}" data-active-filters>
                              {{- filter_active_count -}}
                            </span>
                          </h3>

                          <a
                            href="#filters-group"
                            class="collection__sidebar__close"
                            data-collection-sidebar-close
                            aria-label="{{ 'collections.general.hide_filters' | t }}">
                            {%- render 'icon-cancel' -%}
                          </a>
                        </div>

                        {%- if show_filter -%}
                          {%- render 'collection-filters-sidebar', section: section -%}
                        {%- endif -%}

                        {%- if show_group_filter -%}
                          {%- render 'collection-tags-grouped', collection: collection, show_filters: show_group_filters, filter_layout: filter_layout -%}
                        {%- endif -%}
                      </div>
                    {%- endif -%}
                    {%- comment -%} Capture the content for header containing the tracking data {%- endcomment -%}

                    {%- capture contentForQuerystring -%}{{ content_for_header }}{%- endcapture -%}

                    {% comment %} Use string splitting to pull the value from content_for_header and apply some string clean up {% endcomment %}
                    {%- assign pageUrlWithHost = contentForQuerystring | split:'"pageurl":"' | last | split:'"' | first |
                      replace:'\/','/' | 
                      replace:'%20',' ' | 
                      replace:'\u0026','&'
                    -%}
                    
                    <div class="drawer__underlay" data-drawer-underlay></div>
                    <style>
                      .collection .grid-outer .grid {
                        display: grid;
                        grid-template-columns: repeat(2, minmax(0, 1fr));
                        gap: 2px;
                        position: static;
                        width: 100%;
                      }
                      .collection .grid-outer .grid > * {
                          grid-column: span 1; /* All child elements take up 50% width by default */
                      }

                      .collection .grid-outer .grid > :nth-child(3n) {
                          grid-column: 1 / span 2; /* Child elements with indices divisible by 3 take up 100% width */
                      }

                    </style>
                    {%- if pageUrlWithHost contains 'layout-list' -%}
                      <div class="product-grid_tru action error">
                        <div class="grid-outer" data-products-grid>
                          
                          <div class="grid grid_tru" id="CollectionLoop" style="display: grid;
                              grid-template-columns: repeat(2, minmax(0, 1fr));
                              gap: 2px;
                              position: static;
                              width: 100%;">
                            {%- if paginate.current_page == 1 and collection.products_count > 0 -%}
                              {%- for block in section.blocks -%}
                                {%- case block.type -%}
                                  {%- when 'featured_image' -%}
                                  {%- liquid
                                    assign featured_image = block.settings.featured_image
                                    assign featured_header = block.settings.featured_heading
                                    assign featured_text = block.settings.featured_text
                                    assign featured_button_text = block.settings.featured_button_text
                                    assign featured_button_link = block.settings.featured_button_link
                                    assign featured_color_text = block.settings.featured_color_text
                                    assign featured_color_overlay = block.settings.featured_color_overlay
                                    assign featured_overlay_opacity = block.settings.featured_overlay_opacity | times: 0.01

                                    assign button_style = block.settings.button_style
                                    if button_style == 'btn--text' and block.settings.show_arrow
                                      assign button_style = button_style | append: ' btn--text-no-underline'
                                    endif
                                  -%}

                                  {%- style -%}
                                    #Product-item--{{ block.id }}.product-item__image-overlay {
                                      {%- unless featured_color_text == 'rgba(0,0,0,0)' or featured_color_text == blank -%}
                                        color: {{ featured_color_text }}
                                        ;
                                      {%- endunless -%}
                                    }
                                    #Product-item--{{ block.id }}.product-item__image-overlay::before {
                                      opacity: {{ featured_overlay_opacity }}
                                      ;
                                      background-color: {{ featured_color_overlay }}
                                      ;
                                    }
                                  {%- endstyle -%}

                                  <div
                                    class="grid-item product-item product-item--featured-image"
                                    id="Product-item--{{ block.id }}"
                                    {{ block.shopify_attributes }}>
                                    {%- capture featured_image_content -%}
                                      <div class="product-item__image-overlay">
                                        <div class="product-item__image-content">
                                          {%- if featured_header != blank -%}
                                            <h3>{{ featured_header }}</h3>
                                          {%- endif -%}

                                          {%- if featured_text != blank -%}
                                            {{ featured_text }}
                                          {%- endif -%}

                                          {%- if featured_button_text != blank -%}
                                            <a
                                              href="{{ featured_button_link }}"
                                              class="btn {{ button_style }} {{ block.settings.button_type }} {{ block.settings.button_size }}"
                                              data-aos="fade-up"
                                              data-aos-anchor="{{ animation_anchor }}"
                                              data-aos-duration="{{ animation_duration }}"
                                              data-aos-delay="200">
                                              <span>{{ featured_button_text }}</span>

                                              {%- if block.settings.show_arrow -%}
                                                {%- render 'icon-arrow-right' -%}
                                              {%- endif -%}
                                            </a>
                                          {%- endif -%}
                                        </div>

                                        {%- if featured_button_text == blank and featured_button_link != blank -%}
                                          <a
                                            href="{{ featured_button_link }}"
                                            class="product-item__image-link"
                                            aria-label="{{ featured_image.alt | default: featured_header | default: featured_text | strip_html | escape }}"></a>
                                        {%- endif -%}
                                      </div>
                                    {%- endcapture -%}

                                    {%- unless featured_image == blank -%}
                                      <div class="product-item__image">
                                        <div
                                          class="product-item__bg"
                                          data-aos="img-in"
                                          data-aos-anchor="{{ animation_anchor }}"
                                          data-aos-delay="{{ animation_delay | times: 150 }}"
                                          data-aos-duration="{{ animation_duration }}"
                                          data-aos-easing="ease-out-quart">
                                          {%- render 'image' image: featured_image, sizes: image_sizes, loading: 'eager', preload: 'true', fetchpriority: 'high', cover: true -%}
                                        </div>

                                        {{ featured_image_content }}
                                      </div>
                                    {%- else -%}
                                      <div class="product-item__image">
                                        <div class="svg-placeholder">
                                          {% capture current %}
                                            {% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
                                          {{ 'collection-' | append: current | placeholder_svg_tag }}
                                        </div>

                                        {{ featured_image_content }}
                                      </div>
                                    {%- endunless -%}
                                  </div>
                                {%- endcase -%}
                              {%- endfor -%}
                            {%- endif -%}

                            {%- if collection.products_count > 0 -%}
                              {%- for product in collection.products -%}
                                {%- assign grid_int = section.settings.grid | times: 1 -%}
                                {%- assign animation_delay = forloop.index0 | modulo: grid_int | times: 1 -%}
                                {%- render 'product-grid-itemed', product: product, animation_delay: animation_delay, index: forloop.index, sizes: image_sizes -%}
                              {%- endfor -%}
                            {%- else -%}
                              <div class="no-results">
                                <p>
                                  <strong>{{ 'collections.general.no_matches' | t }}</strong>
                                </p>
                                {%- assign sort_by_string = '' -%}
                                {%- if collection.sort_by != blank -%}
                                  {%- assign sort_by_string = '?sort_by=' | append: collection.sort_by -%}
                                {%- endif -%}
                                <a
                                  class="btn caps btn--primary"
                                  href="{{ collection.url | append: sort_by_string }}"
                                  data-filter-update-url>
                                  <span>{{ 'collections.general.reset' | t }}</span>
                                </a>
                              </div>
                            {%- endif -%}
                          </div>

                          {%- render 'pagination', paginate: paginate -%}

                          <div class="grid__loader">
                            <div class="loader grid__loader-line">
                              <div class="loader-indeterminate"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    {%- else -%}
                      <div class="product-grid_fal active error">
                        <div class="grid-outer" data-products-grid>
                          <div class="grid" id="CollectionLoop">
                            {%- if paginate.current_page == 1 and collection.products_count > 0 -%}
                              {%- for block in section.blocks -%}
                                {%- case block.type -%}
                                  {%- when 'featured_image' -%}
                                  {%- liquid
                                    assign featured_image = block.settings.featured_image
                                    assign featured_header = block.settings.featured_heading
                                    assign featured_text = block.settings.featured_text
                                    assign featured_button_text = block.settings.featured_button_text
                                    assign featured_button_link = block.settings.featured_button_link
                                    assign featured_color_text = block.settings.featured_color_text
                                    assign featured_color_overlay = block.settings.featured_color_overlay
                                    assign featured_overlay_opacity = block.settings.featured_overlay_opacity | times: 0.01

                                    assign button_style = block.settings.button_style
                                    if button_style == 'btn--text' and block.settings.show_arrow
                                      assign button_style = button_style | append: ' btn--text-no-underline'
                                    endif
                                  -%}

                                  {%- style -%}
                                    #Product-item--{{ block.id }}.product-item__image-overlay {
                                      {%- unless featured_color_text == 'rgba(0,0,0,0)' or featured_color_text == blank -%}
                                        color: {{ featured_color_text }}
                                        ;
                                      {%- endunless -%}
                                    }
                                    #Product-item--{{ block.id }}.product-item__image-overlay::before {
                                      opacity: {{ featured_overlay_opacity }}
                                      ;
                                      background-color: {{ featured_color_overlay }}
                                      ;
                                    }
                                  {%- endstyle -%}

                                  <div
                                    class="grid-item product-item product-item--featured-image"
                                    id="Product-item--{{ block.id }}"
                                    {{ block.shopify_attributes }}>
                                    {%- capture featured_image_content -%}
                                      <div class="product-item__image-overlay">
                                        <div class="product-item__image-content">
                                          {%- if featured_header != blank -%}
                                            <h3>{{ featured_header }}</h3>
                                          {%- endif -%}

                                          {%- if featured_text != blank -%}
                                            {{ featured_text }}
                                          {%- endif -%}

                                          {%- if featured_button_text != blank -%}
                                            <a
                                              href="{{ featured_button_link }}"
                                              class="btn {{ button_style }} {{ block.settings.button_type }} {{ block.settings.button_size }}"
                                              data-aos="fade-up"
                                              data-aos-anchor="{{ animation_anchor }}"
                                              data-aos-duration="{{ animation_duration }}"
                                              data-aos-delay="200">
                                              <span>{{ featured_button_text }}</span>

                                              {%- if block.settings.show_arrow -%}
                                                {%- render 'icon-arrow-right' -%}
                                              {%- endif -%}
                                            </a>
                                          {%- endif -%}
                                        </div>

                                        {%- if featured_button_text == blank and featured_button_link != blank -%}
                                          <a
                                            href="{{ featured_button_link }}"
                                            class="product-item__image-link"
                                            aria-label="{{ featured_image.alt | default: featured_header | default: featured_text | strip_html | escape }}"></a>
                                        {%- endif -%}
                                      </div>
                                    {%- endcapture -%}

                                    {%- unless featured_image == blank -%}
                                      <div class="product-item__image">
                                        <div
                                          class="product-item__bg"
                                          data-aos="img-in"
                                          data-aos-anchor="{{ animation_anchor }}"
                                          data-aos-delay="{{ animation_delay | times: 150 }}"
                                          data-aos-duration="{{ animation_duration }}"
                                          data-aos-easing="ease-out-quart">
                                          {%- render 'image' image: featured_image, sizes: image_sizes, loading: 'eager', preload: 'true', fetchpriority: 'high', cover: true -%}
                                        </div>

                                        {{ featured_image_content }}
                                      </div>
                                    {%- else -%}
                                      <div class="product-item__image">
                                        <div class="svg-placeholder">
                                          {% capture current %}
                                            {% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
                                          {{ 'collection-' | append: current | placeholder_svg_tag }}
                                        </div>

                                        {{ featured_image_content }}
                                      </div>
                                    {%- endunless -%}
                                  </div>
                                {%- endcase -%}
                              {%- endfor -%}
                            {%- endif -%}

                            {%- if collection.products_count > 0 -%}
                              {%- for product in collection.products -%}
                                {%- assign grid_int = section.settings.grid | times: 1 -%}
                                {%- assign animation_delay = forloop.index0 | modulo: grid_int | times: 1 -%}
                                {%- render 'product-grid-item', product: product, animation_delay: animation_delay, index: forloop.index, sizes: image_sizes -%}
                              {%- endfor -%}
                            {%- else -%}
                              <div class="no-results">
                                <p>
                                  <strong>{{ 'collections.general.no_matches' | t }}</strong>
                                </p>
                                {%- assign sort_by_string = '' -%}
                                {%- if collection.sort_by != blank -%}
                                  {%- assign sort_by_string = '?sort_by=' | append: collection.sort_by -%}
                                {%- endif -%}
                                <a
                                  class="btn caps btn--primary"
                                  href="{{ collection.url | append: sort_by_string }}"
                                  data-filter-update-url>
                                  <span>{{ 'collections.general.reset' | t }}</span>
                                </a>
                              </div>
                            {%- endif -%}
                          </div>

                          {%- render 'pagination', paginate: paginate -%}

                          <div class="grid__loader">
                            <div class="loader grid__loader-line">
                              <div class="loader-indeterminate"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    {%- endif -%}
                  </div>
                </section>
              {%- endpaginate -%}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "A test2",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "A test2"
      },
      {
        "id": "show_dots",
        "type": "checkbox",
        "label": "Show dots",
        "default": true,
        "info": "Desktop only"
      },
      {
        "type": "select",
        "id": "products_per_row",
        "label": "Products per row",
        "options": [
          {
            "value": "2",
            "label": "2"
          }
        ],
        "default": "2"
      }, {
        "type": "header",
        "content": "Mobile"
      }, {
        "id": "enable_aspect_ratio",
        "type": "checkbox",
        "label": "Set custom aspect ratio",
        "default": true
      }, {
        "type": "range",
        "id": "image_aspect_ratio",
        "label": "Aspect ratio",
        "min": 0.5,
        "max": 1.5,
        "step": 0.1,
        "unit": ":1",
        "default": 1.0
      }, {
        "type": "header",
        "content": "Button",
        "info": "Applies on mobile only"
      }, {
        "type": "select",
        "id": "button_type",
        "label": "Color",
        "default": "btn--white",
        "options": [
          {
            "value": "btn--primary",
            "label": "Primary"
          }, {
            "value": "btn--secondary",
            "label": "Secondary"
          }, {
            "value": "btn--white",
            "label": "White"
          }, {
            "value": "btn--black",
            "label": "Black"
          }
        ]
      }, {
        "type": "select",
        "id": "button_size",
        "label": "Size",
        "default": "",
        "options": [
          {
            "label": "Small",
            "value": "btn--small"
          }, {
            "label": "Medium",
            "value": ""
          }, {
            "label": "Large",
            "value": "btn--large"
          }
        ]
      }, {
        "type": "select",
        "id": "button_style",
        "label": "Style",
        "default": "btn--outline",
        "options": [
          {
            "label": "Solid",
            "value": "btn--solid"
          }, {
            "label": "Outline",
            "value": "btn--outline"
          }, {
            "label": "Text",
            "value": "btn--text"
          }
        ]
      }, {
        "type": "checkbox",
        "id": "show_arrow",
        "label": "Show arrow",
        "default": false
      }, {
        "type": "header",
        "content": "Colors"
      }, {
        "type": "color",
        "id": "bg_color",
        "label": "Background"
      }, {
        "type": "color",
        "id": "color",
        "label": "Text"
      }, {
        "type": "color",
        "id": "dot_color",
        "label": "Icon"
      }, {
        "type": "color",
        "id": "dot_background",
        "label": "Dot background"
      }, {
        "type": "header",
        "content": "Section padding"
      }, {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Padding top",
        "default": 0
      }, {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Padding bottom",
        "default": 0
      }
    ],
    "max_blocks": 10,
    "blocks": [
      {
        "type": "product",
        "name": "Product",
        "settings": [
          {
            "type": "product",
            "id": "product",
            "label": "Product",
            "info": "Product displayed in the photo"
          }, {
            "type": "header",
            "content": "Dot position"
          }, {
            "type": "range",
            "id": "position_x",
            "min": 0,
            "max": 100,
            "step": 1,
            "label": "Horizontal",
            "unit": "%",
            "default": 50
          }, {
            "type": "range",
            "id": "position_y",
            "min": 0,
            "max": 100,
            "step": 1,
            "label": "Vertical",
            "unit": "%",
            "default": 50
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "A test2",
        "category": "Collection",
        "blocks": [
          {
            "type": "product",
            "settings": {
              "position_x": 14,
              "position_y": 37
            }
          },
          {
            "type": "product",
            "settings": {
              "position_x": 45,
              "position_y": 60
            }
          },
          {
            "type": "product",
            "settings": {
              "position_x": 45,
              "position_y": 60
            }
          },
          {
            "type": "product",
            "settings": {
              "position_x": 45,
              "position_y": 60
            }
          }, {
            "type": "product",
            "settings": {
              "position_x": 45,
              "position_y": 60
            }
          }
        ]
      }
    ],
    "disabled_on": {
      "groups": ["header", "aside", "custom.pre_footer", "footer"]
    }
  }
{% endschema %}